//Download by http://www.codefans.net
var INFINITE=999999;var MIN_NODES=10000;var MIN_TICK=1000;var EVAL_SCORES=[500,-150,30,10,10,30,-150,500,-150,-250,0,0,0,0,-250,-150,30,0,1,2,2,1,0,30,10,0,2,16,16,2,0,10,10,0,2,16,16,2,0,10,30,0,1,2,2,1,0,30,-150,-250,0,0,0,0,-250,-150,500,-150,30,10,10,30,-150,500];var BONUS_SCORE=30;var LIBERTY_SCORE=8;function Brain(){var c=0;var g=6;var d;var f=function(o,r){++c;var m=0,k=0;var s=0,q=0;var l=o._getData();for(var n=0;n<BS*BS;++n){var j=l[n];if(j==0){continue}var h=0;for(var w=-1;w<=1;++w){for(var v=-1;v<=1;++v){var u=n+w+v*BS;if(u>=0&&u<BS*BS&&l[u]==0){++h}}}if(j==r){++m;s+=EVAL_SCORES[n];s-=h*LIBERTY_SCORE}else{++k;q+=EVAL_SCORES[n];q-=h*LIBERTY_SCORE}}if(m==0){return -INFINITE}if(k==0){return INFINITE}if(m+k==BS*BS){if(m>k){return INFINITE}else{if(k>m){return -INFINITE}}}var p=function(t){var A=t[0];var B=l[A];if(B!=0){for(var z=1;z<=3;++z){var x=l[t[z]];if(x==0){continue}else{if(x==r){s-=EVAL_SCORES[t[z]]}else{q-=EVAL_SCORES[t[z]]}}}var y=A;for(var z=0;z<BS-2;++z){y+=t[4];if(l[y]!=B){break}if(r==B){s+=BONUS_SCORE}else{q+=BONUS_SCORE}}y=A;for(var z=0;z<BS-2;++z){y+=(t[5]*BS);if(l[y]!=B){break}if(r==B){s+=BONUS_SCORE}else{q+=BONUS_SCORE}}}};p([0,1,8,9,1,1]);p([7,6,14,15,-1,1]);p([56,48,49,57,1,-1]);p([63,54,55,62,-1,-1]);return(s-q)};var e=function(i,h){var k=i.getChessCount();var j=0;if(k[0]>k[1]){j=INFINITE}else{if(k[0]<k[1]){j=-INFINITE}}if(h==WHITE){j=-j}return j};var b=function(i,h,j){i.putChess(j[0],j[1]);var k=f(i,h);i.undo();return k};var a=function(p,u,m,k,s){if(m==0||p.isGameOver()){return{score:f(p,u),step:[]}}var r=(p.getPlayer()==u);var j=r?(-INFINITE-1):(INFINITE+1);var q=p.getPutableList();var t=[0,0];if(q.length>0){var n={};for(var l=0;l<q.length;++l){var h=q[l];n[h]=b(p,u,h)}q.sort(function(v,i){return r?(n[i]-n[v]):(n[v]-n[i])});if(m==1){var h=q[0];j=n[h];t[0]=h[0];t[1]=h[1]}else{for(var l=0;l<q.length;++l){var h=q[l];p.putChess(h[0],h[1]);var o=a(p,u,m-1,k,s);p.undo();if(m==d){console.debug("eval step:"+h+",score:"+o.score+",depth:"+m)}if(r){if(o.score>j){j=o.score;t[0]=h[0];t[1]=h[1]}k=(k>j?k:j);if(k>=s){break}}else{if(o.score<j){j=o.score;t[0]=h[0];t[1]=h[1]}s=(s<j?s:j);if(k>=s){break}}}}}else{if(!p.isGameOver()){p.skipPutChess();var o=a(p,u,m,k,s);j=o.score;t=[];p.undo()}else{j=e(p,u);t=[]}}return{score:j,step:t}};this.findBestStep=function(p){var q=p.getPutableList();var k=p.getChessCount();var s=p.getPlayer();var o=k[0]+k[1];if(q.length>0&&o<=((BS-4)*(BS-4))){console.debug("random strategy");var h=[];for(var m=0;m<q.length;++m){var j=q[m];if(j[0]>=3&&j[0]<=(BS-2)&&j[1]>=3&&j[1]<=(BS-2)){h.push(j)}}if(h.length>0){var r=Math.floor((Math.random()*h.length));return h[r]}}if(q.length>0){console.debug("heuristic strategy");d=g;var t;var l=0;do{console.debug("try depth:"+d);c=0;var n=(new Date()).getTime();t=a(p,s,d,-INFINITE,INFINITE);n=(new Date()).getTime()-n;l+=n;console.debug("best step:"+t.step+",eval nodeCount:"+c+",cost:"+n+" ms");++d}while(l<MIN_TICK&&d<=(BS*BS-o));return t.step}return[]}};